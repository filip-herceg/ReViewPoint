{"openapi":"3.1.0","info":{"title":"ReViewPoint Core API","description":"\n# ReViewPoint Core API\n\nA modular scientific paper review platform providing comprehensive APIs for:\n\n## üîê Authentication & Authorization\n- JWT-based authentication with refresh tokens\n- Role-based access control (RBAC)\n- API key authentication for service-to-service communication\n- Password reset and account management\n\n## üë• User Management\n- User registration, profile management, and administration\n- User export functionality for data portability\n- Comprehensive user analytics and reporting\n\n## üìÅ File Management\n- Secure file upload with validation and virus scanning\n- File metadata management and versioning\n- Bulk operations and file export capabilities\n\n## üè• Health & Monitoring\n- Real-time health checks and system status\n- Performance metrics and monitoring endpoints\n- Service availability and dependency checks\n\n## üîå Real-time Communication\n- WebSocket support for real-time notifications\n- Event-driven architecture for scalable communication\n\n---\n\n## Getting Started\n\n### Authentication\n\nMost endpoints require authentication. Use one of these methods:\n\n1. **Bearer Token (Recommended for web apps):**\n   ```bash\n   curl -H \"Authorization: Bearer YOUR_JWT_TOKEN\" https://api.reviewpoint.org/api/v1/users\n   ```\n\n2. **API Key (For service-to-service):**\n   ```bash\n   curl -H \"X-API-Key: YOUR_API_KEY\" https://api.reviewpoint.org/api/v1/users\n   ```\n\n### Rate Limiting\n\nAPI requests are rate-limited to ensure fair usage:\n- Authentication endpoints: 10 requests per minute\n- File uploads: 5 requests per minute\n- General endpoints: 100 requests per minute\n\n### Error Handling\n\nAll errors follow a consistent format:\n```json\n{\n  \"detail\": \"Error description\",\n  \"status\": \"error\",\n  \"feedback\": \"User-friendly error message\"\n}\n```\n\n### Pagination\n\nList endpoints support pagination:\n```\nGET /api/v1/users?page=1&size=20&sort=created_at&order=desc\n```\n\n---\n\n## SDKs and Libraries\n\n- **Python SDK:** [reviewpoint-python](https://github.com/your-org/reviewpoint-python)\n- **JavaScript/TypeScript:** [reviewpoint-js](https://github.com/your-org/reviewpoint-js)\n- **Go SDK:** [reviewpoint-go](https://github.com/your-org/reviewpoint-go)\n\n## Support\n\n- üìñ **Documentation:** [docs.reviewpoint.org](https://docs.reviewpoint.org)\n- üí¨ **Community:** [Discord](https://discord.gg/reviewpoint)\n- üêõ **Issues:** [GitHub Issues](https://github.com/your-org/reviewpoint/issues)\n- üìß **Email:** support@reviewpoint.org\n","version":"0.1.0","terms_of_service":"https://reviewpoint.org/terms","contact":{"name":"ReViewPoint Team","url":"https://github.com/your-org/reviewpoint","email":"support@reviewpoint.org"},"license":{"name":"MIT License","url":"https://opensource.org/licenses/MIT"}},"paths":{"/api/v1/auth/register":{"post":{"tags":["Auth"],"summary":"Register a new user","description":"**User Registration**\n\nCreates a new user account and returns authentication tokens for immediate login.\n\n**Process:**\n1. Validates email format and password strength\n2. Checks if email is already registered\n3. Creates user account with hashed password\n4. Returns JWT tokens for authentication\n\n**Requirements:**\n- Email must be valid and unique\n- Password must be at least 8 characters\n- Name is optional but recommended\n- API key required for registration\n\n**Rate Limiting:** 5 attempts per email per hour\n\n**Security Features:**\n- Password hashing with bcrypt\n- Email verification (optional)\n- Rate limiting to prevent abuse\n- API key requirement for service protection\n\n**Response:** Returns access token, refresh token, and user profile data\n\n**Examples:**\n```json\n{\n  \"email\": \"user@example.com\",\n  \"password\": \"SecurePassword123!\",\n  \"name\": \"Jane Doe\"\n}\n```\n\n**Error Codes:**\n- `400`: Invalid input data\n- `409`: Email already registered\n- `429`: Too many registration attempts\n- `422`: Validation errors","operationId":"register_api_v1_auth_register_post","parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRegisterRequest","examples":[{"summary":"A typical registration","value":{"email":"user@example.com","password":"strongpassword123","name":"Jane Doe"}}]}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponse"},"examples":{"default":{"value":{"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","token_type":"bearer","expires_in":86400,"user":{"id":123,"email":"user@example.com","name":"Jane Doe","bio":"Software developer passionate about scientific research","avatar_url":"https://api.reviewpoint.org/files/avatars/123.jpg","is_active":true,"is_admin":false,"created_at":"2024-01-15T10:30:00Z","updated_at":"2024-01-20T14:22:00Z"}}}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"},"examples":{}}}}},"security":[]}},"/api/v1/auth/login":{"post":{"tags":["Auth"],"summary":"User login","description":"**User Authentication**\n\nAuthenticates user credentials and returns JWT tokens for API access.\n\n**Process:**\n1. Validates email and password credentials\n2. Checks account status (active, not locked)\n3. Issues access and refresh tokens\n4. Returns user profile information\n\n**Authentication Methods:**\n- **Email + Password**: Standard login method\n- **Rate Limited**: 10 attempts per IP per minute\n\n**Token Details:**\n- **Access Token**: Valid for 24 hours, use for API requests\n- **Refresh Token**: Valid for 7 days, use to get new access tokens\n- **Token Type**: Bearer (include in Authorization header)\n\n**Security Features:**\n- Password verification with timing attack protection\n- Account lockout after failed attempts\n- Secure token generation with cryptographic signatures\n- IP-based rate limiting\n\n**Usage Examples:**\n\n\n*Request:*\n```json\n{\n  \"email\": \"user@example.com\",\n  \"password\": \"yourpassword\"\n}\n```\n\n*Response:*\n```json\n{\n  \"access_token\": \"eyJhbGciOiJIUzI1NiIs...\",\n  \"refresh_token\": \"eyJhbGciOiJIUzI1NiIs...\",\n  \"token_type\": \"bearer\",\n  \"expires_in\": 86400,\n  \"user\": {\n    \"id\": 123,\n    \"email\": \"user@example.com\",\n    \"name\": \"Jane Doe\"\n  }\n}\n```\n\n**Error Codes:**\n- `400`: Missing or invalid credentials\n- `401`: Invalid email or password\n- `429`: Too many login attempts\n- `423`: Account temporarily locked","operationId":"login_api_v1_auth_login_post","parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLoginRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponse"},"examples":{"default":{"value":{"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","token_type":"bearer","expires_in":86400,"user":{"id":123,"email":"user@example.com","name":"Jane Doe","bio":"Software developer passionate about scientific research","avatar_url":"https://api.reviewpoint.org/files/avatars/123.jpg","is_active":true,"is_admin":false,"created_at":"2024-01-15T10:30:00Z","updated_at":"2024-01-20T14:22:00Z"}}}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"},"examples":{}}}}},"security":[],"x-codeSamples":[{"lang":"curl","source":"curl -X POST \"https://api.reviewpoint.org/api/v1/auth/login\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"email\": \"user@example.com\",\n    \"password\": \"your_password\"\n  }'"},{"lang":"python","source":"import requests\n\nresponse = requests.post(\n    \"https://api.reviewpoint.org/api/v1/auth/login\",\n    json={\n        \"email\": \"user@example.com\",\n        \"password\": \"your_password\"\n    }\n)\n\nif response.status_code == 200:\n    data = response.json()\n    access_token = data[\"access_token\"]\n    print(f\"Login successful! Token: {access_token[:20]}...\")\nelse:\n    print(f\"Login failed: {response.json()}\")"},{"lang":"javascript","source":"const response = await fetch('https://api.reviewpoint.org/api/v1/auth/login', {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  body: JSON.stringify({\n    email: 'user@example.com',\n    password: 'your_password'\n  })\n});\n\nif (response.ok) {\n  const data = await response.json();\n  const accessToken = data.access_token;\n  console.log(`Login successful! Token: ${accessToken.substring(0, 20)}...`);\n} else {\n  const error = await response.json();\n  console.error('Login failed:', error);\n}"}]}},"/api/v1/auth/logout":{"post":{"tags":["Auth"],"summary":"Logout user","description":"Logs out the current user and blacklists the access token.\n\n**Steps:**\n1. User sends a logout request with a valid access token.\n2. System blacklists the token and ends the session.\n\n**Notes:**\n- Blacklisted tokens cannot be reused.\n- Rate limiting is applied to prevent abuse.","operationId":"logout_api_v1_auth_logout_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"},"examples":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"},"examples":{}}}}}}},"/api/v1/auth/refresh-token":{"post":{"tags":["Auth"],"summary":"Refresh JWT access token","description":"Refreshes the JWT access token using a valid refresh token.\n\n**Steps:**\n1. User provides a valid refresh token.\n2. System validates the token and issues a new access token.\n\n**Notes:**\n- Expired or blacklisted tokens will be rejected.\n- Rate limiting is applied to prevent abuse.","operationId":"refresh_token_api_v1_auth_refresh_token_post","parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Body"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponse"},"examples":{"default":{"value":{"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","token_type":"bearer","expires_in":86400,"user":{"id":123,"email":"user@example.com","name":"Jane Doe","bio":"Software developer passionate about scientific research","avatar_url":"https://api.reviewpoint.org/files/avatars/123.jpg","is_active":true,"is_admin":false,"created_at":"2024-01-15T10:30:00Z","updated_at":"2024-01-20T14:22:00Z"}}}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"},"examples":{}}}}},"security":[{"BearerAuth":[]},{"ApiKeyAuth":[]}]}},"/api/v1/auth/request-password-reset":{"post":{"tags":["Auth"],"summary":"Request password reset","description":"Initiates a password reset flow.\n\n**Steps:**\n1. User submits email via this endpoint.\n2. System sends a password reset link to the email if it exists.\n3. User clicks the link and is directed to the reset form.\n4. User completes the process via `/reset-password`.\n\n**Notes:**\n- For security, this endpoint always returns a success message, even if the email is not registered.\n- Rate limiting is applied to prevent abuse.","operationId":"request_password_reset_api_v1_auth_request_password_reset_post","parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordResetRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"},"examples":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"},"examples":{}}}}},"security":[]}},"/api/v1/auth/reset-password":{"post":{"tags":["Auth"],"summary":"Reset password","description":"Completes the password reset flow using a valid reset token.\n\n**Steps:**\n1. User receives a reset link from `/request-password-reset`.\n2. User submits the token and new password to this endpoint.\n3. System validates the token and updates the password.\n\n**Notes:**\n- The token must be valid and not expired.\n- Rate limiting is applied to prevent abuse.","operationId":"reset_password_api_v1_auth_reset_password_post","parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordResetConfirmRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"},"examples":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"},"examples":{}}}}},"security":[]}},"/api/v1/auth/me":{"get":{"tags":["Auth"],"summary":"Get current user profile","description":"Returns the profile information of the currently authenticated user.\n\n**How it works:**\n- Requires a valid JWT Bearer token.\n- Returns user ID, email, name, bio, avatar, and timestamps.","operationId":"get_me_api_v1_auth_me_get","security":[{"BearerAuth":[]},{"ApiKeyAuth":[]},{"OAuth2PasswordBearer":["read"]}],"parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfile"},"examples":{"default":{"value":{"id":123,"email":"user@example.com","name":"Jane Doe","bio":"Software developer passionate about scientific research","avatar_url":"https://api.reviewpoint.org/files/avatars/123.jpg","is_active":true,"is_admin":false,"created_at":"2024-01-15T10:30:00Z","updated_at":"2024-01-20T14:22:00Z"}}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"},"examples":{}}}}},"x-codeSamples":[{"lang":"curl","source":"curl -X GET \"https://api.reviewpoint.org/api/v1/auth/me\" \\\n  -H \"Authorization: Bearer YOUR_JWT_TOKEN\""},{"lang":"python","source":"import requests\n\nheaders = {\n    \"Authorization\": \"Bearer YOUR_JWT_TOKEN\"\n}\n\nresponse = requests.get(\n    \"https://api.reviewpoint.org/api/v1/auth/me\",\n    headers=headers\n)\n\nif response.status_code == 200:\n    user_data = response.json()\n    print(f\"Logged in as: {user_data['name']} ({user_data['email']})\")\nelse:\n    print(f\"Failed to get profile: {response.json()}\")"},{"lang":"javascript","source":"const response = await fetch('https://api.reviewpoint.org/api/v1/auth/me', {\n  method: 'GET',\n  headers: {\n    'Authorization': 'Bearer YOUR_JWT_TOKEN'\n  }\n});\n\nif (response.ok) {\n  const userData = await response.json();\n  console.log(`Logged in as: ${userData.name} (${userData.email})`);\n} else {\n  const error = await response.json();\n  console.error('Failed to get profile:', error);\n}"}]}},"/api/v1/health":{"get":{"tags":["Health"],"summary":"Health check","description":"Returns the health status of the API and database connection, including uptime and dependency versions.\n\n    **Features:**\n    - Checks database connectivity\n    - Returns API/server uptime\n    - Returns dependency versions (Python, FastAPI, SQLAlchemy)\n    - Adds response time in headers\n\n    **Example:**\n    ```bash\n    curl https://api.reviewpoint.org/api/v1/health\n    ```","operationId":"health_check_api_v1_health_get","parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"API and database are healthy","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthResponseDict"},"example":{"status":"ok","db":{"ok":true},"uptime":123.45,"response_time":"0.0012s","versions":{"python":"3.11.0","fastapi":"0.95.0","sqlalchemy":"2.0.0"}},"examples":{}}}},"400":{"description":"Validation error.","content":{"application/json":{"example":{"detail":"Invalid request."},"examples":{"default":{"value":{"detail":"The provided credentials are invalid","status":"error","feedback":"Please check your email and password and try again"}}}}}},"401":{"description":"Unauthorized. Missing or invalid authentication.","content":{"application/json":{"example":{"detail":"Not authenticated."},"examples":{"default":{"value":{"detail":"The provided credentials are invalid","status":"error","feedback":"Please check your email and password and try again"}}}}}},"403":{"description":"Forbidden. Not enough permissions.","content":{"application/json":{"example":{"detail":"Not enough permissions."},"examples":{"default":{"value":{"detail":"The provided credentials are invalid","status":"error","feedback":"Please check your email and password and try again"}}}}}},"422":{"description":"Unprocessable Entity. Invalid input.","content":{"application/json":{"example":{"detail":"Invalid input."},"examples":{}}}},"429":{"description":"Too many requests.","content":{"application/json":{"example":{"detail":"Rate limit exceeded."},"examples":{"default":{"value":{"detail":"The provided credentials are invalid","status":"error","feedback":"Please check your email and password and try again"}}}}}},"500":{"description":"Internal server error.","content":{"application/json":{"example":{"detail":"Unexpected error."},"examples":{"default":{"value":{"detail":"The provided credentials are invalid","status":"error","feedback":"Please check your email and password and try again"}}}}}},"503":{"description":"Database unavailable or service unavailable.","content":{"application/json":{"example":{"status":"error","db":{"ok":false,"error":"Database connection failed","pool":{}},"uptime":12345.67,"response_time":0.0023,"versions":{"python":"3.11.8","fastapi":"0.110.0","sqlalchemy":"2.0.29"},"detail":"Database connection failed"},"examples":{}}}}},"x-codeSamples":[{"lang":"curl","source":"curl -X GET \"https://api.reviewpoint.org/api/v1/health\""},{"lang":"python","source":"import requests\n\nresponse = requests.get(\"https://api.reviewpoint.org/api/v1/health\")\n\nif response.status_code == 200:\n    health_data = response.json()\n    print(f\"API Status: {health_data['status']}\")\n    print(f\"Version: {health_data['version']}\")\nelse:\n    print(f\"Health check failed: {response.status_code}\")"},{"lang":"javascript","source":"const response = await fetch('https://api.reviewpoint.org/api/v1/health');\n\nif (response.ok) {\n  const healthData = await response.json();\n  console.log(`API Status: ${healthData.status}`);\n  console.log(`Version: ${healthData.version}`);\n} else {\n  console.error(`Health check failed: ${response.status}`);\n}"}],"security":[]}},"/api/v1/metrics":{"get":{"tags":["Health"],"summary":"Prometheus metrics","description":"Returns Prometheus-style metrics for uptime and database connection pool.\n\n    **Metrics Provided:**\n    - `app_uptime_seconds`: API uptime in seconds\n    - `db_pool_size`: Database connection pool size\n    - `db_pool_checkedin`: Idle connections\n    - `db_pool_checkedout`: Active connections\n    - `db_pool_overflow`: Overflow connections\n    - `db_pool_awaiting`: Awaiting connections\n\n    **Use case:**\n    - Monitoring with Prometheus or similar tools\n    - Health dashboards","operationId":"metrics_api_v1_metrics_get","responses":{"200":{"description":"Prometheus metrics in plain text","content":{"application/json":{"schema":{},"examples":{}},"text/plain":{"example":"app_uptime_seconds 12345.67\ndb_pool_size 5\ndb_pool_checkedin 5\ndb_pool_checkedout 0\ndb_pool_overflow 0\ndb_pool_awaiting 0","examples":{}}}},"400":{"description":"Validation error.","content":{"application/json":{"example":{"detail":"Invalid request."},"examples":{"default":{"value":{"detail":"The provided credentials are invalid","status":"error","feedback":"Please check your email and password and try again"}}}}}},"401":{"description":"Unauthorized. Missing or invalid authentication.","content":{"application/json":{"example":{"detail":"Not authenticated."},"examples":{"default":{"value":{"detail":"The provided credentials are invalid","status":"error","feedback":"Please check your email and password and try again"}}}}}},"403":{"description":"Forbidden. Not enough permissions.","content":{"application/json":{"example":{"detail":"Not enough permissions."},"examples":{"default":{"value":{"detail":"The provided credentials are invalid","status":"error","feedback":"Please check your email and password and try again"}}}}}},"422":{"description":"Unprocessable Entity. Invalid input.","content":{"application/json":{"example":{"detail":"Invalid input."},"examples":{}}}},"429":{"description":"Too many requests.","content":{"application/json":{"example":{"detail":"Rate limit exceeded."},"examples":{"default":{"value":{"detail":"The provided credentials are invalid","status":"error","feedback":"Please check your email and password and try again"}}}}}},"500":{"description":"Internal server error.","content":{"application/json":{"example":{"detail":"Unexpected error."},"examples":{"default":{"value":{"detail":"The provided credentials are invalid","status":"error","feedback":"Please check your email and password and try again"}}}}}},"503":{"description":"Service unavailable.","content":{"application/json":{"example":{"detail":"Service temporarily unavailable."},"examples":{}}}}},"x-codeSamples":[{"lang":"curl","label":"cURL","source":"curl https://api.reviewpoint.org/api/v1/metrics"},{"lang":"Python","label":"Python (requests)","source":"import requests\nurl = 'https://api.reviewpoint.org/api/v1/metrics'\nresponse = requests.get(url)\nprint(response.text)"},{"lang":"JavaScript","label":"JavaScript (fetch)","source":"fetch('https://api.reviewpoint.org/api/v1/metrics')\n  .then(res => res.text())\n  .then(console.log);"},{"lang":"Go","label":"Go (net/http)","source":"package main\nimport (\n  \"net/http\"\n)\nfunc main() {\n  http.Get(\"https://api.reviewpoint.org/api/v1/metrics\")\n}"},{"lang":"Java","label":"Java (OkHttp)","source":"OkHttpClient client = new OkHttpClient();\nRequest request = new Request.Builder()\n  .url(\"https://api.reviewpoint.org/api/v1/metrics\")\n  .get()\n  .build();\nResponse response = client.newCall(request).execute();"},{"lang":"PHP","label":"PHP (cURL)","source":"$ch = curl_init('https://api.reviewpoint.org/api/v1/metrics');\n$response = curl_exec($ch);\ncurl_close($ch);"},{"lang":"Ruby","label":"Ruby (Net::HTTP)","source":"require 'net/http'\nuri = URI('https://api.reviewpoint.org/api/v1/metrics')\nres = Net::HTTP.get(uri)\nputs res"},{"lang":"HTTPie","label":"HTTPie","source":"http GET https://api.reviewpoint.org/api/v1/metrics"},{"lang":"PowerShell","label":"PowerShell","source":"Invoke-RestMethod -Uri 'https://api.reviewpoint.org/api/v1/metrics' -Method Get"}],"security":[]}},"/api/v1/users/export":{"get":{"tags":["User Management","Export"],"summary":"Export users as CSV (minimal format)","description":"Export user data in CSV format with minimal fields for basic reporting.\n\n    **Requirements:**\n    - Valid API key or export-specific API key\n    - Feature flag 'users:export' must be enabled\n\n    **Query Parameters:**\n    - `email`: Filter export to specific email address\n    - `format`: Export format (only 'csv' supported currently)\n\n    **CSV Columns:**\n    - `id`: User unique identifier\n    - `email`: User email address\n    - `name`: User display name\n\n    **Response:**\n    - Content-Type: text/csv\n    - Content-Disposition: attachment; filename=\"users_export.csv\"\n\n    **Example Request:**\n    ```\n    GET /api/v1/users/export?format=csv&email=john@example.com\n    ```\n\n    **Example CSV Output:**\n    ```csv\n    id,email,name\n    123,john.doe@example.com,John Doe\n    456,jane.smith@example.com,Jane Smith\n    ```\n\n    **Use Cases:**\n    - Basic user reporting\n    - Data backup (minimal)\n    - Third-party system integration\n    - Quick user audits","operationId":"export_users_csv_api_v1_users_export_get","parameters":[{"name":"email","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by specific email address","title":"Email"},"description":"Filter by specific email address"},{"name":"format","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Export format (only csv supported)","default":"csv","title":"Format"},"description":"Export format (only csv supported)"}],"responses":{"200":{"description":"CSV export successful","content":{"text/csv":{"example":"id,email,name\n123,john@example.com,John Doe\n456,jane@example.com,Jane Smith","examples":{}}}},"400":{"description":"Unsupported format or invalid parameters"},"401":{"description":"Invalid or missing API key"},"403":{"description":"Export feature not enabled"},"500":{"description":"Internal server error"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"},"examples":{}}}}},"security":[{"BearerAuth":[]},{"ApiKeyAuth":[]}]}},"/api/v1/users/export-alive":{"get":{"tags":["Health","Export"],"summary":"Test export router health","description":"Health check endpoint for the user export router functionality.\n\n    **Requirements:**\n    - Feature flag 'users:export_alive' must be enabled\n    - No authentication required (health check)\n\n    **Response:**\n    Returns a simple status message to confirm export endpoints are operational.\n\n    **Example Response:**\n    ```json\n    {\n        \"status\": \"users export alive\"\n    }\n    ```\n\n    **Use Cases:**\n    - Service health monitoring\n    - Export feature availability testing\n    - System diagnostics\n    - Load balancer health checks","operationId":"export_alive_api_v1_users_export_alive_get","responses":{"200":{"description":"Export router is operational","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExportAliveResponse"},"example":{"status":"users export alive"},"examples":{"default":{"value":{"id":123,"email":"user@example.com","name":"Jane Doe","bio":"Software developer passionate about scientific research","avatar_url":"https://api.reviewpoint.org/files/avatars/123.jpg","is_active":true,"is_admin":false,"created_at":"2024-01-15T10:30:00Z","updated_at":"2024-01-20T14:22:00Z"}}}}}},"403":{"description":"Export alive feature not enabled"}},"security":[{"BearerAuth":[]},{"ApiKeyAuth":[]}]}},"/api/v1/users/export-full":{"get":{"tags":["User Management","Export"],"summary":"Export users as CSV (complete format)","description":"Export comprehensive user data in CSV format with all available fields.\n\n    **Requirements:**\n    - Valid API key or export-specific API key\n    - Feature flag 'users:export_full' must be enabled\n    - Higher privilege level than minimal export\n\n    **CSV Columns:**\n    - `id`: User unique identifier\n    - `email`: User email address\n    - `name`: User display name\n    - `created_at`: Account creation timestamp (ISO format)\n    - `updated_at`: Last modification timestamp (ISO format)\n    - `is_active`: Account active status (boolean)\n    - `is_admin`: Admin privileges (boolean)\n\n    **Response:**\n    - Content-Type: text/csv\n    - Content-Disposition: attachment; filename=\"users_full_export.csv\"\n\n    **Example Request:**\n    ```\n    GET /api/v1/users/export-full\n    ```\n\n    **Example CSV Output:**\n    ```csv\n    id,email,name,created_at,updated_at,is_active,is_admin\n    123,john.doe@example.com,John Doe,2025-01-08T10:30:00Z,2025-01-08T15:45:00Z,true,false\n    456,jane.smith@example.com,Jane Smith,2025-01-07T14:20:00Z,2025-01-08T09:15:00Z,true,true\n    ```\n\n    **Use Cases:**\n    - Complete data backup\n    - Detailed analytics and reporting\n    - User account auditing\n    - System migration\n    - Compliance reporting","operationId":"export_users_full_csv_api_v1_users_export_full_get","responses":{"200":{"description":"Full CSV export successful","content":{"text/csv":{"example":"id,email,name,created_at,updated_at,is_active,is_admin\n123,john@example.com,John Doe,2025-01-08T10:30:00Z,2025-01-08T15:45:00Z,true,false","examples":{}}}},"401":{"description":"Invalid or missing API key"},"403":{"description":"Export feature not enabled"},"500":{"description":"Internal server error"}},"security":[{"BearerAuth":[]},{"ApiKeyAuth":[]}]}},"/api/v1/users/export-simple":{"get":{"tags":["Health","Export"],"summary":"Simple export test endpoint","description":"Simple test endpoint for debugging export functionality.\n\n    **Requirements:**\n    - Feature flag 'users:export_simple' must be enabled\n    - No authentication required (debug endpoint)\n\n    **Response:**\n    Returns a simple status message for debugging and testing purposes.\n\n    **Example Response:**\n    ```json\n    {\n        \"users\": \"export simple status\"\n    }\n    ```\n\n    **Use Cases:**\n    - Development and debugging\n    - Feature flag testing\n    - Export system diagnostics\n    - Integration testing","operationId":"export_simple_api_v1_users_export_simple_get","responses":{"200":{"description":"Simple export test successful","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExportSimpleResponse"},"example":{"users":"export simple status"},"examples":{"default":{"value":{"id":123,"email":"user@example.com","name":"Jane Doe","bio":"Software developer passionate about scientific research","avatar_url":"https://api.reviewpoint.org/files/avatars/123.jpg","is_active":true,"is_admin":false,"created_at":"2024-01-15T10:30:00Z","updated_at":"2024-01-20T14:22:00Z"}}}}}},"403":{"description":"Export simple feature not enabled"}},"security":[{"BearerAuth":[]},{"ApiKeyAuth":[]}]}},"/api/v1/users":{"post":{"tags":["User Management"],"summary":"Create a new user","description":"Create a new user account in the system.\n\n    **Requirements:**\n    - Valid API key in Authorization header\n    - Feature flag 'users:create' must be enabled\n    - Admin privileges required\n\n    **Request Body:**\n    - `email`: Valid email address (unique)\n    - `password`: Secure password (minimum 8 characters)\n    - `name`: User's display name\n\n    **Behavior:**\n    - Returns 409 if email already exists\n    - Validates password strength and email format\n    - Automatically assigns user role and default settings\n\n    **Example Request:**\n    ```json\n    {\n        \"email\": \"newuser@example.com\",\n        \"password\": \"SecurePass123!\",\n        \"name\": \"John Doe\"\n    }\n    ```\n\n    **Example Response:**\n    ```json\n    {\n        \"id\": 123,\n        \"email\": \"newuser@example.com\",\n        \"name\": \"John Doe\",\n        \"bio\": null,\n        \"avatar_url\": null,\n        \"created_at\": \"2025-01-08T10:30:00Z\",\n        \"updated_at\": \"2025-01-08T10:30:00Z\"\n    }\n    ```","operationId":"create_user_api_v1_users_post","parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreateRequest"},"example":{"email":"newuser@example.com","password":"SecurePass123!","name":"John Doe"}}}},"responses":{"201":{"description":"User created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfile"},"example":{"id":123,"email":"newuser@example.com","name":"John Doe","created_at":"2025-01-08T10:30:00Z","updated_at":"2025-01-08T10:30:00Z"},"examples":{"default":{"value":{"id":123,"email":"user@example.com","name":"Jane Doe","bio":"Software developer passionate about scientific research","avatar_url":"https://api.reviewpoint.org/files/avatars/123.jpg","is_active":true,"is_admin":false,"created_at":"2024-01-15T10:30:00Z","updated_at":"2024-01-20T14:22:00Z"}}}}}},"400":{"description":"Invalid user data"},"401":{"description":"Invalid API key"},"403":{"description":"Admin access required"},"409":{"description":"Email already exists"},"422":{"description":"Validation error"},"500":{"description":"Internal server error"}},"security":[{"BearerAuth":[]},{"ApiKeyAuth":[]}]},"get":{"tags":["User Management"],"summary":"List users with filtering and pagination","description":"Retrieve a paginated list of users with optional filtering capabilities.\n\n    **Requirements:**\n    - Valid API key in Authorization header\n    - Feature flag 'users:list' must be enabled\n    - Admin privileges required\n\n    **Query Parameters:**\n    - `offset`: Number of records to skip (default: 0)\n    - `limit`: Maximum records to return (default: 50, max: 100)\n    - `email`: Filter by email address (partial match)\n    - `name`: Filter by user name (partial match)\n    - `created_after`: Filter users created after date (ISO format)\n\n    **Response:**\n    - `users`: Array of user objects\n    - `total`: Total number of matching users\n\n    **Example Request:**\n    ```\n    GET /api/v1/users?offset=0&limit=10&name=john&created_after=2025-01-01\n    ```\n\n    **Example Response:**\n    ```json\n    {\n        \"users\": [\n            {\n                \"id\": 123,\n                \"email\": \"john.doe@example.com\",\n                \"name\": \"John Doe\",\n                \"bio\": \"Software developer\",\n                \"avatar_url\": \"https://example.com/avatar.jpg\",\n                \"created_at\": \"2025-01-08T10:30:00Z\",\n                \"updated_at\": \"2025-01-08T10:30:00Z\"\n            }\n        ],\n        \"total\": 1\n    }\n    ```","operationId":"list_users_api_v1_users_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"email","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by email address (partial match)","title":"Email"},"description":"Filter by email address (partial match)"},{"name":"name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by user name (partial match)","title":"Name"},"description":"Filter by user name (partial match)"},{"name":"created_after","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter users created after this date (ISO format)","title":"Created After"},"description":"Filter users created after this date (ISO format)"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Number of items to skip (offset)","default":0,"title":"Offset"},"description":"Number of items to skip (offset)"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Max number of items to return (max 100)","default":20,"title":"Limit"},"description":"Max number of items to return (max 100)"},{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Users retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserListResponse"},"example":{"users":[{"id":123,"email":"john.doe@example.com","name":"John Doe","bio":"Software developer","avatar_url":"https://example.com/avatar.jpg","created_at":"2025-01-08T10:30:00Z","updated_at":"2025-01-08T10:30:00Z"}],"total":1},"examples":{"default":{"value":{"id":123,"email":"user@example.com","name":"Jane Doe","bio":"Software developer passionate about scientific research","avatar_url":"https://api.reviewpoint.org/files/avatars/123.jpg","is_active":true,"is_admin":false,"created_at":"2024-01-15T10:30:00Z","updated_at":"2024-01-20T14:22:00Z"}}}}}},"401":{"description":"Invalid API key"},"403":{"description":"Admin access required"},"500":{"description":"Internal server error"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"},"examples":{}}}}},"x-codeSamples":[{"lang":"curl","source":"curl -X GET \"https://api.reviewpoint.org/api/v1/users\" \\\n  -H \"Authorization: Bearer YOUR_JWT_TOKEN\" \\\n  -H \"X-API-Key: YOUR_API_KEY\""},{"lang":"python","source":"import requests\n\nheaders = {\n    \"Authorization\": \"Bearer YOUR_JWT_TOKEN\",\n    \"X-API-Key\": \"YOUR_API_KEY\"\n}\n\nresponse = requests.get(\n    \"https://api.reviewpoint.org/api/v1/users\",\n    headers=headers,\n    params={\"limit\": 10, \"offset\": 0}\n)\n\nif response.status_code == 200:\n    users_data = response.json()\n    print(f\"Found {users_data['total']} users\")\n    for user in users_data['users']:\n        print(f\"- {user['name']} ({user['email']})\")\nelse:\n    print(f\"Failed to fetch users: {response.json()}\")"},{"lang":"javascript","source":"const response = await fetch('https://api.reviewpoint.org/api/v1/users?limit=10&offset=0', {\n  method: 'GET',\n  headers: {\n    'Authorization': 'Bearer YOUR_JWT_TOKEN',\n    'X-API-Key': 'YOUR_API_KEY'\n  }\n});\n\nif (response.ok) {\n  const usersData = await response.json();\n  console.log(`Found ${usersData.total} users`);\n  usersData.users.forEach(user => {\n    console.log(`- ${user.name} (${user.email})`);\n  });\n} else {\n  const error = await response.json();\n  console.error('Failed to fetch users:', error);\n}"}]}},"/api/v1/users/{user_id}":{"get":{"tags":["User Management"],"summary":"Get user by ID","description":"Retrieve detailed information for a specific user by their ID.\n\n    **Requirements:**\n    - Valid API key in Authorization header\n    - Feature flag 'users:read' must be enabled\n    - Admin privileges required\n\n    **Path Parameters:**\n    - `user_id`: Unique identifier of the user (integer)\n\n    **Response:**\n    Returns complete user profile including metadata.\n\n    **Example Request:**\n    ```\n    GET /api/v1/users/123\n    ```\n\n    **Example Response:**\n    ```json\n    {\n        \"id\": 123,\n        \"email\": \"john.doe@example.com\",\n        \"name\": \"John Doe\",\n        \"bio\": \"Software developer passionate about clean code\",\n        \"avatar_url\": \"https://example.com/avatars/123.jpg\",\n        \"created_at\": \"2025-01-08T10:30:00Z\",\n        \"updated_at\": \"2025-01-08T15:45:00Z\"\n    }\n    ```","operationId":"get_user_by_id_api_v1_users__user_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"description":"User ID","title":"User Id"},"description":"User ID"},{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"User retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfile"},"example":{"id":123,"email":"john.doe@example.com","name":"John Doe","bio":"Software developer passionate about clean code","avatar_url":"https://example.com/avatars/123.jpg","created_at":"2025-01-08T10:30:00Z","updated_at":"2025-01-08T15:45:00Z"},"examples":{"default":{"value":{"id":123,"email":"user@example.com","name":"Jane Doe","bio":"Software developer passionate about scientific research","avatar_url":"https://api.reviewpoint.org/files/avatars/123.jpg","is_active":true,"is_admin":false,"created_at":"2024-01-15T10:30:00Z","updated_at":"2024-01-20T14:22:00Z"}}}}}},"401":{"description":"Invalid API key"},"403":{"description":"Admin access required"},"404":{"description":"User not found"},"500":{"description":"Internal server error"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"},"examples":{}}}}}},"put":{"tags":["User Management"],"summary":"Update user information","description":"Update an existing user's information.\n\n    **Requirements:**\n    - Valid API key in Authorization header\n    - Admin privileges required\n\n    **Path Parameters:**\n    - `user_id`: Unique identifier of the user to update\n\n    **Request Body:**\n    - `email`: New email address (must be unique)\n    - `password`: New password (will be hashed)\n    - `name`: Updated display name\n\n    **Behavior:**\n    - Validates new email uniqueness\n    - Hashes new password securely\n    - Updates modification timestamp\n    - Returns updated user profile\n\n    **Example Request:**\n    ```json\n    {\n        \"email\": \"updated@example.com\",\n        \"password\": \"NewSecurePass123!\",\n        \"name\": \"Updated Name\"\n    }\n    ```\n\n    **Example Response:**\n    ```json\n    {\n        \"id\": 123,\n        \"email\": \"updated@example.com\",\n        \"name\": \"Updated Name\",\n        \"bio\": null,\n        \"avatar_url\": null,\n        \"created_at\": \"2025-01-08T10:30:00Z\",\n        \"updated_at\": \"2025-01-08T16:20:00Z\"\n    }\n    ```","operationId":"update_user_api_v1_users__user_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"description":"User ID to update","title":"User Id"},"description":"User ID to update"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreateRequest"},"example":{"email":"updated@example.com","password":"NewSecurePass123!","name":"Updated Name"}}}},"responses":{"200":{"description":"User updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfile"},"example":{"id":123,"email":"updated@example.com","name":"Updated Name","created_at":"2025-01-08T10:30:00Z","updated_at":"2025-01-08T16:20:00Z"},"examples":{"default":{"value":{"id":123,"email":"user@example.com","name":"Jane Doe","bio":"Software developer passionate about scientific research","avatar_url":"https://api.reviewpoint.org/files/avatars/123.jpg","is_active":true,"is_admin":false,"created_at":"2024-01-15T10:30:00Z","updated_at":"2024-01-20T14:22:00Z"}}}}}},"400":{"description":"Invalid user data"},"401":{"description":"Invalid API key"},"403":{"description":"Admin access required"},"404":{"description":"User not found"},"409":{"description":"Email already exists"},"500":{"description":"Internal server error"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"},"examples":{}}}}}},"delete":{"tags":["User Management"],"summary":"Delete user","description":"Permanently delete a user account from the system.\n\n    **Requirements:**\n    - Valid API key in Authorization header\n    - Admin privileges required\n\n    **Path Parameters:**\n    - `user_id`: Unique identifier of the user to delete\n\n    **Behavior:**\n    - Permanently removes user from database\n    - Cascades deletion to related records\n    - Cannot be undone\n    - Returns 204 No Content on success\n\n    **Example Request:**\n    ```\n    DELETE /api/v1/users/123\n    ```\n\n    **Response:**\n    - Success: 204 No Content (empty body)\n    - User not found: 404 with error message","operationId":"delete_user_api_v1_users__user_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"description":"User ID to delete","title":"User Id"},"description":"User ID to delete"}],"responses":{"204":{"description":"User deleted successfully"},"401":{"description":"Invalid API key"},"403":{"description":"Admin access required"},"404":{"description":"User not found"},"500":{"description":"Internal server error"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"},"examples":{}}}}}}},"/api/v1/users/promote-admin":{"post":{"tags":["Test Utilities"],"summary":"Promote user to admin (TEST ONLY)","description":"**üö® TEST ENVIRONMENT ONLY - NOT AVAILABLE IN PRODUCTION üö®**\n\n    Promote a regular user to admin status by email address.\n    This endpoint is restricted to test environments for testing admin functionality.\n\n    **Requirements:**\n    - Must be running in test mode (TEST_MODE=true)\n    - User must exist in the database\n    - No authentication required (test endpoint)\n\n    **Request Body:**\n    ```json\n    {\n        \"email\": \"user@example.com\"\n    }\n    ```\n\n    **Behavior:**\n    - Finds user by email address\n    - Sets `is_admin` flag to `true`\n    - Commits changes to database\n    - Returns confirmation message\n\n    **Example Request:**\n    ```json\n    {\n        \"email\": \"john.doe@example.com\"\n    }\n    ```\n\n    **Example Response:**\n    ```json\n    {\n        \"detail\": \"User john.doe@example.com promoted to admin.\"\n    }\n    ```\n\n    **Security Notes:**\n    - Automatically disabled in production environments\n    - Returns 403 Forbidden if not in test mode\n    - Use only for test setup and automation\n    - Never expose in production APIs","operationId":"promote_user_to_admin_async_api_v1_users_promote_admin_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_promote_user_to_admin_async_api_v1_users_promote_admin_post"}}},"required":true},"responses":{"200":{"description":"User promoted to admin successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromoteAdminResponse"},"example":{"detail":"User john.doe@example.com promoted to admin."},"examples":{"default":{"value":{"id":123,"email":"user@example.com","name":"Jane Doe","bio":"Software developer passionate about scientific research","avatar_url":"https://api.reviewpoint.org/files/avatars/123.jpg","is_active":true,"is_admin":false,"created_at":"2024-01-15T10:30:00Z","updated_at":"2024-01-20T14:22:00Z"}}}}}},"403":{"description":"Not allowed in production environment"},"404":{"description":"User not found"},"422":{"description":"Invalid email format"},"500":{"description":"Internal server error"}},"security":[{"BearerAuth":[]},{"ApiKeyAuth":[]}]}},"/api/v1/uploads/root-test":{"get":{"tags":["File","File"],"summary":"Root level test endpoint","description":"**Diagnostic Endpoint**\n\n    Checks if the uploads router is registered and responding. Useful for debugging router registration issues.\n\n    **Returns:**\n    - JSON status and router name.","operationId":"uploads_main_root_test","responses":{"200":{"description":"Root test successful","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Uploads Main Root Test"},"examples":{"default":{"value":{"status":"uploads root test","router":"uploads"}}}}}}},"security":[{"BearerAuth":[]},{"ApiKeyAuth":[]}]}},"/api/v1/uploads/test-alive":{"get":{"tags":["File","File"],"summary":"Test endpoint for router registration","description":"**Health Check**\n\n    Confirms the uploads router is active and properly registered. Returns a simple status JSON object.\n\n    **Use case:**\n    - Health checks\n    - Integration tests","operationId":"_test_alive_response_api_v1_uploads_test_alive_get","responses":{"200":{"description":"Router is alive","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response  Test Alive Response Api V1 Uploads Test Alive Get"},"examples":{"default":{"value":{"status":"alive"}}}}}}},"security":[{"BearerAuth":[]},{"ApiKeyAuth":[]}]}},"/api/v1/uploads/export-alive":{"get":{"tags":["File","File"],"summary":"Test endpoint for export router","description":"**Export Router Health Check**\n\n    Returns 200 if the uploads export router is active. Used for integration and deployment checks.","operationId":"_export_alive_response_api_v1_uploads_export_alive_get","responses":{"200":{"description":"Export router is alive","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response  Export Alive Response Api V1 Uploads Export Alive Get"},"examples":{"default":{"value":{"status":"uploads export alive"}}}}}}},"security":[{"BearerAuth":[]},{"ApiKeyAuth":[]}]}},"/api/v1/uploads/export-test":{"get":{"tags":["File","File"],"summary":"Test endpoint for export router","description":"**Export Router Test**\n\n    Returns 200 if the uploads export router is active. Requires authentication.\n\n    **Returns:**\n    - JSON status\n    - Current user ID (if authenticated)","operationId":"export_test_api_v1_uploads_export_test_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Export router test successful","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Export Test Api V1 Uploads Export Test Get"},"examples":{"default":{"value":{"status":"uploads export test"}}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"},"examples":{}}}}}}},"/api/v1/uploads/export":{"get":{"tags":["File"],"summary":"Export files as CSV","description":"**Export Operation**\n\n    Exports the list of uploaded files as a CSV file.\n\n    **Steps:**\n    1. Authenticated user requests export.\n    2. Server filters and sorts files as requested.\n    3. Returns a CSV with filename and URL columns.\n\n    **Notes:**\n    - Supports filtering by creation date and filename.\n    - Rate limiting and authentication required.","operationId":"export_files_csv_api_v1_uploads_export_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search by filename (partial match)","title":"Q"},"description":"Search by filename (partial match)"},{"name":"sort","in":"query","required":false,"schema":{"enum":["created_at","filename"],"type":"string","description":"Sort by field: created_at, filename","default":"created_at","title":"Sort"},"description":"Sort by field: created_at, filename"},{"name":"order","in":"query","required":false,"schema":{"enum":["desc","asc"],"type":"string","description":"Sort order: asc or desc","default":"desc","title":"Order"},"description":"Sort order: asc or desc"},{"name":"fields","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Comma-separated list of fields to include in response (e.g. filename,url)","title":"Fields"},"description":"Comma-separated list of fields to include in response (e.g. filename,url)"},{"name":"created_before","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter files created before this datetime (ISO 8601, e.g. 2024-01-01T00:00:00Z)","title":"Created Before"},"description":"Filter files created before this datetime (ISO 8601, e.g. 2024-01-01T00:00:00Z)"},{"name":"created_after","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter files created after this datetime (ISO 8601, e.g. 2024-01-01T00:00:00Z)","title":"Created After"},"description":"Filter files created after this datetime (ISO 8601, e.g. 2024-01-01T00:00:00Z)"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Number of items to skip (offset)","default":0,"title":"Offset"},"description":"Number of items to skip (offset)"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Max number of items to return (max 100)","default":20,"title":"Limit"},"description":"Max number of items to return (max 100)"},{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Files exported as CSV","content":{"application/json":{"schema":{},"examples":{}},"text/csv":{"examples":{"default":{"value":{"id":456,"filename":"research_paper.pdf","content_type":"application/pdf","size":2048576,"md5_hash":"d41d8cd98f00b204e9800998ecf8427e","upload_url":"https://api.reviewpoint.org/api/v1/uploads/456","download_url":"https://api.reviewpoint.org/api/v1/uploads/456/download","is_public":false,"uploaded_by":123,"created_at":"2024-01-16T09:15:00Z","updated_at":"2024-01-16T09:15:00Z"}}}}}},"401":{"description":"Unauthorized. Missing or invalid authentication.","content":{"application/json":{"example":{"detail":"Not authenticated."},"examples":{"default":{"value":{"detail":"The provided credentials are invalid","status":"error","feedback":"Please check your email and password and try again"}}}}}},"403":{"description":"Forbidden. Not enough permissions.","content":{"application/json":{"example":{"detail":"Not enough permissions."},"examples":{"default":{"value":{"detail":"The provided credentials are invalid","status":"error","feedback":"Please check your email and password and try again"}}}}}},"422":{"description":"Unprocessable Entity. Invalid input.","content":{"application/json":{"example":{"detail":"Invalid input."},"examples":{}}}},"429":{"description":"Too many requests.","content":{"application/json":{"example":{"detail":"Rate limit exceeded."},"examples":{"default":{"value":{"detail":"The provided credentials are invalid","status":"error","feedback":"Please check your email and password and try again"}}}}}},"500":{"description":"Internal server error.","content":{"application/json":{"example":{"detail":"Unexpected error."},"examples":{"default":{"value":{"detail":"The provided credentials are invalid","status":"error","feedback":"Please check your email and password and try again"}}}}}},"503":{"description":"Service unavailable.","content":{"application/json":{"example":{"detail":"Service temporarily unavailable."},"examples":{}}}}},"x-codeSamples":[{"lang":"curl","label":"cURL","source":"curl -H 'Authorization: Bearer <token>' 'https://api.reviewpoint.org/api/v1/uploads/export'"},{"lang":"Python","label":"Python (requests)","source":"import requests\nurl = 'https://api.reviewpoint.org/api/v1/uploads/export'\nheaders = {'Authorization': 'Bearer <token>'}\nresponse = requests.get(url, headers=headers)\nprint(response.content.decode())"},{"lang":"JavaScript","label":"JavaScript (fetch)","source":"fetch('https://api.reviewpoint.org/api/v1/uploads/export', {\n  headers: { 'Authorization': 'Bearer <token>' }\n})\n  .then(res => res.text())\n  .then(console.log);"},{"lang":"Go","label":"Go (net/http)","source":"package main\nimport (\n  \"net/http\"\n)\nfunc main() {\n  req, _ := http.NewRequest(\"GET\", \"https://api.reviewpoint.org/api/v1/uploads/export\", nil)\n  req.Header.Set(\"Authorization\", \"Bearer <token>\")\n  http.DefaultClient.Do(req)\n}"},{"lang":"Java","label":"Java (OkHttp)","source":"OkHttpClient client = new OkHttpClient();\nRequest request = new Request.Builder()\n  .url(\"https://api.reviewpoint.org/api/v1/uploads/export\")\n  .get()\n  .addHeader(\"Authorization\", \"Bearer <token>\")\n  .build();\nResponse response = client.newCall(request).execute();"},{"lang":"PHP","label":"PHP (cURL)","source":"$ch = curl_init('https://api.reviewpoint.org/api/v1/uploads/export');\ncurl_setopt($ch, CURLOPT_HTTPHEADER, ['Authorization: Bearer <token>']);\n$response = curl_exec($ch);\ncurl_close($ch);"},{"lang":"Ruby","label":"Ruby (Net::HTTP)","source":"require 'net/http'\nuri = URI('https://api.reviewpoint.org/api/v1/uploads/export')\nreq = Net::HTTP::Get.new(uri)\nreq['Authorization'] = 'Bearer <token>'\nres = Net::HTTP.start(uri.hostname, uri.port, use_ssl: true) { |http| http.request(req) }\nputs res.body"},{"lang":"HTTPie","label":"HTTPie","source":"http GET https://api.reviewpoint.org/api/v1/uploads/export Authorization:'Bearer <token>'"},{"lang":"PowerShell","label":"PowerShell","source":"$headers = @{Authorization='Bearer <token>'}\nInvoke-RestMethod -Uri 'https://api.reviewpoint.org/api/v1/uploads/export' -Headers $headers -Method Get"}]}},"/api/v1/uploads":{"post":{"tags":["File"],"summary":"Upload a file","description":"**Secure File Upload**\n\n    Uploads files with comprehensive validation, virus scanning, and metadata generation.\n\n    **Process:**\n    1. **File Validation**: Checks file type, size, and content\n    2. **Security Scan**: Virus scanning and malware detection\n    3. **Metadata Generation**: Extracts file information and generates checksums\n    4. **Storage**: Secure storage with access controls\n    5. **Response**: Returns file metadata and access URLs\n\n    **Supported File Types:**\n    - **Documents**: PDF, DOC, DOCX, TXT, RTF\n    - **Images**: JPEG, PNG, GIF, SVG, WEBP\n    - **Data**: CSV, XLS, XLSX, JSON, XML\n    - **Archives**: ZIP, TAR, GZ (with content scanning)\n\n    **File Constraints:**\n    - **Maximum Size**: 100MB per file\n    - **Rate Limiting**: 5 uploads per minute per user\n    - **Naming**: Automatic sanitization and duplicate handling\n\n    **Security Features:**\n    - Virus and malware scanning\n    - Content type validation (not just extension)\n    - File size limits and timeout protection\n    - Automatic quarantine of suspicious files\n    - Access logging and audit trail\n\n    **Response Format:**\n    ```json\n    {\n      \"id\": 123,\n      \"filename\": \"document.pdf\",\n      \"content_type\": \"application/pdf\",\n      \"size\": 2048576,\n      \"md5_hash\": \"d41d8cd98f00b204e9800998ecf8427e\",\n      \"upload_url\": \"/api/v1/uploads/123\",\n      \"download_url\": \"/api/v1/uploads/123/download\",\n      \"created_at\": \"2024-01-16T09:15:00Z\"\n    }\n    ```\n\n    **Usage Examples:**\n\n    *cURL:*\n    ```bash\n    curl -X POST \"https://api.reviewpoint.org/api/v1/uploads\" \\\n      -H \"Authorization: Bearer YOUR_JWT_TOKEN\" \\\n      -F \"file=@document.pdf\" \\\n      -F \"description=Research paper draft\"\n    ```\n\n    *Python:*\n    ```python\n    import requests\n    files = {\"file\": (\"doc.pdf\", open(\"doc.pdf\", \"rb\"))}\n    headers = {\"Authorization\": \"Bearer YOUR_JWT_TOKEN\"}\n    response = requests.post(\n        \"https://api.reviewpoint.org/api/v1/uploads\",\n        files=files,\n        headers=headers\n    )\n    ```\n\n    **Error Handling:**\n    - `400`: Invalid file type or corrupt file\n    - `401`: Authentication required\n    - `413`: File too large (>100MB)\n    - `415`: Unsupported file type\n    - `429`: Upload rate limit exceeded\n    - `422`: Validation errors (missing file, etc.)","operationId":"upload_file_api_v1_uploads_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_file_api_v1_uploads_post"},"example":{"file":"(binary file, e.g. document.pdf)"}}}},"responses":{"201":{"description":"File uploaded successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileUploadResponse"},"example":{"filename":"document.pdf","url":"/uploads/document.pdf"},"examples":{"default":{"value":{"id":456,"filename":"research_paper.pdf","content_type":"application/pdf","size":2048576,"md5_hash":"d41d8cd98f00b204e9800998ecf8427e","upload_url":"https://api.reviewpoint.org/api/v1/uploads/456","download_url":"https://api.reviewpoint.org/api/v1/uploads/456/download","is_public":false,"uploaded_by":123,"created_at":"2024-01-16T09:15:00Z","updated_at":"2024-01-16T09:15:00Z"}}}}}},"400":{"description":"Invalid file","content":{"application/json":{"example":{"detail":"File type not allowed."},"examples":{"default":{"value":{"detail":"The provided credentials are invalid","status":"error","feedback":"Please check your email and password and try again"}}}}}},"401":{"description":"Unauthorized. Missing or invalid authentication.","content":{"application/json":{"example":{"detail":"Not authenticated."},"examples":{"default":{"value":{"detail":"The provided credentials are invalid","status":"error","feedback":"Please check your email and password and try again"}}}}}},"413":{"description":"File too large.","content":{"application/json":{"example":{"detail":"File size exceeds limit."},"examples":{}}}},"415":{"description":"Unsupported Media Type.","content":{"application/json":{"example":{"detail":"Unsupported file type."},"examples":{}}}},"422":{"description":"Unprocessable Entity. Invalid input.","content":{"application/json":{"example":{"detail":"Invalid input."},"examples":{}}}},"429":{"description":"Too many requests.","content":{"application/json":{"example":{"detail":"Rate limit exceeded."},"examples":{"default":{"value":{"detail":"The provided credentials are invalid","status":"error","feedback":"Please check your email and password and try again"}}}}}},"500":{"description":"Internal server error.","content":{"application/json":{"example":{"detail":"Unexpected error."},"examples":{"default":{"value":{"detail":"The provided credentials are invalid","status":"error","feedback":"Please check your email and password and try again"}}}}}},"503":{"description":"Service unavailable.","content":{"application/json":{"example":{"detail":"Service temporarily unavailable."},"examples":{}}}}},"x-codeSamples":[{"lang":"curl","source":"curl -X POST \"https://api.reviewpoint.org/api/v1/uploads\" \\\n  -H \"Authorization: Bearer YOUR_JWT_TOKEN\" \\\n  -F \"file=@document.pdf\" \\\n  -F \"description=Research paper draft\""},{"lang":"python","source":"import requests\n\nheaders = {\n    \"Authorization\": \"Bearer YOUR_JWT_TOKEN\"\n}\n\nfiles = {\n    \"file\": (\"document.pdf\", open(\"document.pdf\", \"rb\"), \"application/pdf\")\n}\n\ndata = {\n    \"description\": \"Research paper draft\"\n}\n\nresponse = requests.post(\n    \"https://api.reviewpoint.org/api/v1/uploads\",\n    headers=headers,\n    files=files,\n    data=data\n)\n\nif response.status_code == 201:\n    file_data = response.json()\n    print(f\"Upload successful! File ID: {file_data['id']}\")\nelse:\n    print(f\"Upload failed: {response.json()}\")"},{"lang":"javascript","source":"const formData = new FormData();\nformData.append('file', fileInput.files[0]);\nformData.append('description', 'Research paper draft');\n\nconst response = await fetch('https://api.reviewpoint.org/api/v1/uploads', {\n  method: 'POST',\n  headers: {\n    'Authorization': 'Bearer YOUR_JWT_TOKEN'\n  },\n  body: formData\n});\n\nif (response.ok) {\n  const fileData = await response.json();\n  console.log(`Upload successful! File ID: ${fileData.id}`);\n} else {\n  const error = await response.json();\n  console.error('Upload failed:', error);\n}"}]},"get":{"tags":["File"],"summary":"List all uploaded files","description":"**File Listing**\n\n    Returns a paginated list of all uploaded files for the current user.\n\n    **How it works:**\n    1. The server retrieves files uploaded by the current user.\n    2. Files can be filtered and sorted.\n    3. Returns a list of files with pagination information.\n\n    **Notes:**\n    - Supports filtering by filename and creation date.\n    - Supports sorting by creation date or filename.\n    - Supports field selection to limit the returned data.","operationId":"list_files_api_v1_uploads_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search term across all fields","title":"Q"},"description":"Search term across all fields"},{"name":"fields","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Comma-separated list of fields to include","title":"Fields"},"description":"Comma-separated list of fields to include"},{"name":"sort","in":"query","required":false,"schema":{"enum":["created_at","filename"],"type":"string","description":"Field to sort by","default":"created_at","title":"Sort"},"description":"Field to sort by"},{"name":"order","in":"query","required":false,"schema":{"enum":["desc","asc"],"type":"string","description":"Sort order (asc or desc)","default":"desc","title":"Order"},"description":"Sort order (asc or desc)"},{"name":"created_after","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by creation date (ISO format)","title":"Created After"},"description":"Filter by creation date (ISO format)"},{"name":"created_before","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by creation date (ISO format)","title":"Created Before"},"description":"Filter by creation date (ISO format)"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Number of items to skip (offset)","default":0,"title":"Offset"},"description":"Number of items to skip (offset)"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Max number of items to return (max 100)","default":20,"title":"Limit"},"description":"Max number of items to return (max 100)"},{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Files found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileListResponse"},"examples":{"default":{"value":{"id":456,"filename":"research_paper.pdf","content_type":"application/pdf","size":2048576,"md5_hash":"d41d8cd98f00b204e9800998ecf8427e","upload_url":"https://api.reviewpoint.org/api/v1/uploads/456","download_url":"https://api.reviewpoint.org/api/v1/uploads/456/download","is_public":false,"uploaded_by":123,"created_at":"2024-01-16T09:15:00Z","updated_at":"2024-01-16T09:15:00Z"}}}}}},"401":{"description":"Unauthorized. Missing or invalid authentication.","content":{"application/json":{"example":{"detail":"Not authenticated."},"examples":{"default":{"value":{"detail":"The provided credentials are invalid","status":"error","feedback":"Please check your email and password and try again"}}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"},"examples":{}}}}}}},"/api/v1/uploads/bulk-delete":{"post":{"tags":["File"],"summary":"Bulk delete files","description":"**Bulk File Deletion**\n\n    Delete multiple files in a single request.\n\n    **Features:**\n    - Delete up to 100 files per request\n    - Only deletes files owned by the current user\n    - Returns detailed success/failure results\n    - Atomic operation per file (failure of one doesn't affect others)\n\n    **Request Body:**\n    ```json\n    {\n      \"filenames\": [\"file1.pdf\", \"file2.pdf\", \"file3.pdf\"]\n    }\n    ```\n\n    **Response:**\n    ```json\n    {\n      \"deleted\": [\"file1.pdf\", \"file2.pdf\"],\n      \"failed\": [\"file3.pdf\"]\n    }\n    ```","operationId":"bulk_delete_files_endpoint_api_v1_uploads_bulk_delete_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkDeleteRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkDeleteResponse"},"examples":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"},"examples":{}}}}}}},"/api/v1/uploads/{filename}":{"get":{"tags":["File"],"summary":"Get uploaded file info","description":"Retrieves metadata for an uploaded file by filename.","operationId":"get_file_api_v1_uploads__filename__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"filename","in":"path","required":true,"schema":{"type":"string","description":"The name of the file to retrieve.","title":"Filename"},"description":"The name of the file to retrieve."},{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"File found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileUploadResponse"},"example":{"filename":"document.pdf","url":"/uploads/document.pdf"},"examples":{"default":{"value":{"id":456,"filename":"research_paper.pdf","content_type":"application/pdf","size":2048576,"md5_hash":"d41d8cd98f00b204e9800998ecf8427e","upload_url":"https://api.reviewpoint.org/api/v1/uploads/456","download_url":"https://api.reviewpoint.org/api/v1/uploads/456/download","is_public":false,"uploaded_by":123,"created_at":"2024-01-16T09:15:00Z","updated_at":"2024-01-16T09:15:00Z"}}}}}},"401":{"description":"Unauthorized. Missing or invalid authentication.","content":{"application/json":{"example":{"detail":"Not authenticated."},"examples":{"default":{"value":{"detail":"The provided credentials are invalid","status":"error","feedback":"Please check your email and password and try again"}}}}}},"403":{"description":"Forbidden. Not enough permissions.","content":{"application/json":{"example":{"detail":"Not enough permissions."},"examples":{"default":{"value":{"detail":"The provided credentials are invalid","status":"error","feedback":"Please check your email and password and try again"}}}}}},"404":{"description":"File not found","content":{"application/json":{"example":{"detail":"File not found."},"examples":{"default":{"value":{"detail":"The provided credentials are invalid","status":"error","feedback":"Please check your email and password and try again"}}}}}},"422":{"description":"Unprocessable Entity. Invalid filename.","content":{"application/json":{"example":{"detail":"Invalid filename."},"examples":{}}}},"429":{"description":"Too many requests.","content":{"application/json":{"example":{"detail":"Rate limit exceeded."},"examples":{"default":{"value":{"detail":"The provided credentials are invalid","status":"error","feedback":"Please check your email and password and try again"}}}}}},"500":{"description":"Internal server error.","content":{"application/json":{"example":{"detail":"Unexpected error."},"examples":{"default":{"value":{"detail":"The provided credentials are invalid","status":"error","feedback":"Please check your email and password and try again"}}}}}},"503":{"description":"Service unavailable.","content":{"application/json":{"example":{"detail":"Service temporarily unavailable."},"examples":{}}}}}},"delete":{"tags":["File"],"summary":"Delete uploaded file","description":"Deletes an uploaded file by filename.","operationId":"delete_file_by_filename_api_v1_uploads__filename__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"filename","in":"path","required":true,"schema":{"type":"string","description":"The name of the file to delete.","title":"Filename"},"description":"The name of the file to delete."},{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{},"examples":{}}}},"204":{"description":"File deleted successfully","content":{"application/json":{"examples":{"default":{"value":{}}}}}},"401":{"description":"Unauthorized. Missing or invalid authentication.","content":{"application/json":{"example":{"detail":"Not authenticated."},"examples":{"default":{"value":{"detail":"The provided credentials are invalid","status":"error","feedback":"Please check your email and password and try again"}}}}}},"403":{"description":"Forbidden. Not enough permissions.","content":{"application/json":{"example":{"detail":"Not enough permissions."},"examples":{"default":{"value":{"detail":"The provided credentials are invalid","status":"error","feedback":"Please check your email and password and try again"}}}}}},"404":{"description":"File not found","content":{"application/json":{"example":{"detail":"File not found."},"examples":{"default":{"value":{"detail":"The provided credentials are invalid","status":"error","feedback":"Please check your email and password and try again"}}}}}},"422":{"description":"Unprocessable Entity. Invalid filename.","content":{"application/json":{"example":{"detail":"Invalid filename."},"examples":{}}}},"429":{"description":"Too many requests.","content":{"application/json":{"example":{"detail":"Rate limit exceeded."},"examples":{"default":{"value":{"detail":"The provided credentials are invalid","status":"error","feedback":"Please check your email and password and try again"}}}}}},"500":{"description":"Internal server error.","content":{"application/json":{"example":{"detail":"Unexpected error."},"examples":{"default":{"value":{"detail":"The provided credentials are invalid","status":"error","feedback":"Please check your email and password and try again"}}}}}},"503":{"description":"Service unavailable.","content":{"application/json":{"example":{"detail":"Service temporarily unavailable."},"examples":{}}}}}}},"/api/v1/uploads/{filename}/download":{"get":{"tags":["File"],"summary":"Download uploaded file","description":"**File Download**\n\n    Download the actual file content with proper headers for browser download.\n\n    **Features:**\n    - Proper Content-Type headers\n    - Content-Disposition for browser download\n    - File size information\n    - Security checks (user ownership verification)\n\n    **Response:**\n    - Returns the file content with appropriate headers\n    - Sets filename for browser downloads","operationId":"download_file_api_v1_uploads__filename__download_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"filename","in":"path","required":true,"schema":{"type":"string","description":"The name of the file to download.","title":"Filename"},"description":"The name of the file to download."},{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"File content","content":{"application/json":{"schema":{},"examples":{}},"application/octet-stream":{"schema":{"type":"string","format":"binary"},"examples":{}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"File not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"},"examples":{}}}}}}},"/api/v1/ws/stats":{"get":{"tags":["websocket"],"summary":"Get WebSocket connection statistics","description":"Retrieve real-time statistics about active WebSocket connections.\n\n    **Requirements:**\n    - Valid JWT token in Authorization header\n    - Admin privileges required\n\n    **Response includes:**\n    - Total active connections\n    - Number of unique users online\n    - Connections per user breakdown\n    - Average connections per user\n    - System health metrics","operationId":"get_websocket_stats_api_v1_ws_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Websocket Stats Api V1 Ws Stats Get"},"examples":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/ws/connections/{connection_id}":{"get":{"tags":["websocket"],"summary":"Get specific connection information","description":"Get detailed information about a specific WebSocket connection. Admin only.","operationId":"get_connection_info_api_v1_ws_connections__connection_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"connection_id","in":"path","required":true,"schema":{"type":"string","title":"Connection Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Connection Info Api V1 Ws Connections  Connection Id  Get"},"examples":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"},"examples":{}}}}}}},"/api/v1/ws/broadcast":{"post":{"tags":["websocket"],"summary":"Broadcast message to all connections","description":"Broadcast a message to all active WebSocket connections. Admin only.","operationId":"broadcast_message_api_v1_ws_broadcast_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Message"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Broadcast Message Api V1 Ws Broadcast Post"},"examples":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"},"examples":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}}},"components":{"schemas":{"AuthResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"refresh_token":{"type":"string","title":"Refresh Token"},"token_type":{"type":"string","const":"bearer","title":"Token Type","default":"bearer"}},"type":"object","required":["access_token","refresh_token"],"title":"AuthResponse"},"Body_promote_user_to_admin_async_api_v1_users_promote_admin_post":{"properties":{"email":{"type":"string","title":"Email","description":"Email address of user to promote"}},"type":"object","required":["email"],"title":"Body_promote_user_to_admin_async_api_v1_users_promote_admin_post"},"Body_upload_file_api_v1_uploads_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"The file to upload. Must be a valid file type."}},"type":"object","required":["file"],"title":"Body_upload_file_api_v1_uploads_post"},"BulkDeleteRequest":{"properties":{"filenames":{"items":{"type":"string"},"type":"array","title":"Filenames"}},"type":"object","required":["filenames"],"title":"BulkDeleteRequest","example":{"filenames":["document1.pdf","document2.pdf","document3.pdf"]}},"BulkDeleteResponse":{"properties":{"deleted":{"items":{"type":"string"},"type":"array","title":"Deleted"},"failed":{"items":{"type":"string"},"type":"array","title":"Failed"}},"type":"object","required":["deleted","failed"],"title":"BulkDeleteResponse","example":{"deleted":["document1.pdf","document2.pdf"],"failed":["document3.pdf"]}},"DBStatusDict":{"properties":{"ok":{"type":"boolean","title":"Ok"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"},"pool":{"$ref":"#/components/schemas/PoolStatsDict"}},"type":"object","title":"DBStatusDict"},"ExportAliveResponse":{"properties":{"status":{"type":"string","const":"users export alive","title":"Status"}},"type":"object","required":["status"],"title":"ExportAliveResponse"},"ExportSimpleResponse":{"properties":{"users":{"type":"string","const":"export simple status","title":"Users"}},"type":"object","required":["users"],"title":"ExportSimpleResponse"},"FileDict":{"properties":{"filename":{"type":"string","title":"Filename"},"url":{"type":"string","title":"Url"},"content_type":{"type":"string","title":"Content Type"},"size":{"type":"integer","title":"Size"},"created_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created At"}},"type":"object","title":"FileDict"},"FileListResponse":{"properties":{"files":{"items":{"$ref":"#/components/schemas/FileDict"},"type":"array","title":"Files"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["files","total"],"title":"FileListResponse","examples":[{"files":[{"filename":"document.pdf","url":"/uploads/document.pdf"},{"filename":"image.jpg","url":"/uploads/image.jpg"},{"filename":"only_filename.pdf"}],"total":3}]},"FileUploadResponse":{"properties":{"filename":{"type":"string","title":"Filename"},"url":{"type":"string","title":"Url"}},"type":"object","required":["filename","url"],"title":"FileUploadResponse","example":{"filename":"document.pdf","url":"/uploads/document.pdf"}},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthResponseDict":{"properties":{"status":{"type":"string","enum":["ok","error"],"title":"Status"},"db":{"$ref":"#/components/schemas/DBStatusDict"},"uptime":{"type":"number","title":"Uptime"},"response_time":{"type":"number","title":"Response Time"},"versions":{"$ref":"#/components/schemas/VersionsDict"},"detail":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Detail"}},"type":"object","title":"HealthResponseDict"},"MessageResponse":{"properties":{"message":{"type":"string","title":"Message"}},"type":"object","required":["message"],"title":"MessageResponse"},"PasswordResetConfirmRequest":{"properties":{"token":{"type":"string","title":"Token"},"new_password":{"type":"string","maxLength":128,"minLength":8,"title":"New Password"}},"type":"object","required":["token","new_password"],"title":"PasswordResetConfirmRequest"},"PasswordResetRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"}},"type":"object","required":["email"],"title":"PasswordResetRequest"},"PoolStatsDict":{"properties":{"size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Size"},"checkedin":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Checkedin"},"checkedout":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Checkedout"},"overflow":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Overflow"},"awaiting":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Awaiting"}},"type":"object","title":"PoolStatsDict"},"PromoteAdminResponse":{"properties":{"detail":{"type":"string","title":"Detail"}},"type":"object","required":["detail"],"title":"PromoteAdminResponse"},"UserCreateRequest":{"properties":{"email":{"type":"string","title":"Email"},"password":{"type":"string","title":"Password"},"name":{"type":"string","title":"Name"}},"type":"object","required":["email","password","name"],"title":"UserCreateRequest","examples":[{"email":"user@example.com","name":"Jane Doe","password":"strongpassword123"}]},"UserListResponse":{"properties":{"users":{"items":{"$ref":"#/components/schemas/UserProfile"},"type":"array","title":"Users"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["users","total"],"title":"UserListResponse"},"UserLoginRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"}},"type":"object","required":["email","password"],"title":"UserLoginRequest"},"UserProfile":{"properties":{"id":{"type":"integer","title":"Id"},"email":{"type":"string","title":"Email"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"bio":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bio"},"avatar_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Avatar Url"},"created_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Updated At"}},"additionalProperties":false,"type":"object","required":["id","email"],"title":"UserProfile"},"UserRegisterRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","maxLength":128,"minLength":8,"title":"Password"},"name":{"anyOf":[{"type":"string","maxLength":128},{"type":"null"}],"title":"Name"}},"type":"object","required":["email","password"],"title":"UserRegisterRequest"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VersionsDict":{"properties":{"python":{"type":"string","title":"Python"},"fastapi":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Fastapi"},"sqlalchemy":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sqlalchemy"}},"type":"object","required":["python","fastapi","sqlalchemy"],"title":"VersionsDict"}},"securitySchemes":{"BearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT","description":"\n**JWT Bearer Token Authentication**\n\nUse this for web applications and user-specific operations.\n\n**How to obtain a token:**\n1. Register or login via `/api/v1/auth/login`\n2. Include the token in the Authorization header\n3. Format: `Authorization: Bearer YOUR_JWT_TOKEN`\n\n**Token lifecycle:**\n- Access tokens expire in 24 hours\n- Refresh tokens expire in 7 days\n- Use `/api/v1/auth/refresh` to get new tokens\n"},"ApiKeyAuth":{"type":"apiKey","in_":"header","name":"X-API-Key","description":"\n**API Key Authentication**\n\nUse this for service-to-service communication and automation.\n\n**How to obtain an API key:**\n1. Contact support@reviewpoint.org\n2. Include the key in the X-API-Key header\n3. Format: `X-API-Key: YOUR_API_KEY`\n\n**Best practices:**\n- Store keys securely (environment variables)\n- Rotate keys regularly\n- Use different keys for different environments\n"},"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"tokenUrl":"/api/v1/auth/login","scopes":{"read":"Read access to user data","write":"Write access to user data","admin":"Administrative access"}}},"description":"\n**OAuth2 Password Flow**\n\nStandard OAuth2 password flow for third-party integrations.\n\n**Supported scopes:**\n- `read`: Read access to user data\n- `write`: Write access to user data\n- `admin`: Administrative access\n\n**Usage:**\nUse the `/api/v1/auth/login` endpoint to exchange credentials for tokens.\n"}},"examples":{"UserExample":{"value":{"id":123,"email":"user@example.com","name":"Jane Doe","bio":"Software developer passionate about scientific research","avatar_url":"https://api.reviewpoint.org/files/avatars/123.jpg","is_active":true,"is_admin":false,"created_at":"2024-01-15T10:30:00Z","updated_at":"2024-01-20T14:22:00Z"}},"FileExample":{"value":{"id":456,"filename":"research_paper.pdf","content_type":"application/pdf","size":2048576,"md5_hash":"d41d8cd98f00b204e9800998ecf8427e","upload_url":"https://api.reviewpoint.org/api/v1/uploads/456","download_url":"https://api.reviewpoint.org/api/v1/uploads/456/download","is_public":false,"uploaded_by":123,"created_at":"2024-01-16T09:15:00Z","updated_at":"2024-01-16T09:15:00Z"}},"AuthResponseExample":{"value":{"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","token_type":"bearer","expires_in":86400,"user":{"id":123,"email":"user@example.com","name":"Jane Doe","bio":"Software developer passionate about scientific research","avatar_url":"https://api.reviewpoint.org/files/avatars/123.jpg","is_active":true,"is_admin":false,"created_at":"2024-01-15T10:30:00Z","updated_at":"2024-01-20T14:22:00Z"}}},"ErrorExample":{"value":{"detail":"The provided credentials are invalid","status":"error","feedback":"Please check your email and password and try again"}},"ValidationErrorExample":{"value":{"detail":[{"loc":["body","email"],"msg":"field required","type":"value_error.missing"},{"loc":["body","password"],"msg":"ensure this value has at least 8 characters","type":"value_error.any_str.min_length","ctx":{"limit_value":8}}],"status":"error","feedback":"Please correct the validation errors and try again"}}}},"tags":[{"name":"Auth","description":"\n**Authentication operations**\n\nHandle user authentication, registration, and session management.\nAll authentication endpoints use JWT tokens for secure access.\n\nKey features:\n- User registration and login\n- JWT token management with refresh tokens\n- Password reset functionality\n- Rate limiting for security\n","externalDocs":{"description":"Authentication Guide","url":"https://docs.reviewpoint.org/auth"}},{"name":"User Management","description":"\n**User profile and account management**\n\nComprehensive user management including profiles, preferences, and administration.\nSupports role-based access control and user analytics.\n\nKey features:\n- User CRUD operations\n- Profile management\n- User analytics and reporting\n- Data export capabilities\n","externalDocs":{"description":"User Management Guide","url":"https://docs.reviewpoint.org/users"}},{"name":"File","description":"\n**File upload and management operations**\n\nSecure file handling with validation, virus scanning, and metadata management.\nSupports various file types with size and content restrictions.\n\nKey features:\n- Secure file upload with validation\n- File metadata and versioning\n- Bulk operations and export\n- Virus scanning and security checks\n","externalDocs":{"description":"File Management Guide","url":"https://docs.reviewpoint.org/files"}},{"name":"Health","description":"\n**Health check and monitoring endpoints**\n\nSystem health monitoring and performance metrics for ensuring service availability.\nNo authentication required for basic health checks.\n\nKey features:\n- Real-time health status\n- Performance metrics\n- Dependency checks\n- Service availability monitoring\n","externalDocs":{"description":"Monitoring Guide","url":"https://docs.reviewpoint.org/monitoring"}},{"name":"WebSocket","description":"\n**Real-time communication via WebSocket**\n\nWebSocket endpoints for real-time features like notifications and live updates.\nRequires authentication for most channels.\n\nKey features:\n- Real-time notifications\n- Live collaboration features\n- Event-driven updates\n- Connection management\n","externalDocs":{"description":"WebSocket Guide","url":"https://docs.reviewpoint.org/websocket"}}],"servers":[{"url":"https://api.reviewpoint.org","description":"Production server","variables":{"version":{"default":"v1","description":"API version"}}},{"url":"https://staging-api.reviewpoint.org","description":"Staging server for testing","variables":{"version":{"default":"v1","description":"API version"}}},{"url":"http://localhost:8000","description":"Local development server","variables":{"version":{"default":"v1","description":"API version"}}}],"security":[{"BearerAuth":[]},{"ApiKeyAuth":[]}]}